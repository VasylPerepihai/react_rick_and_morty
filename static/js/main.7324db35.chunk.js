(this.webpackJsonpreact_rick_and_morty=this.webpackJsonpreact_rick_and_morty||[]).push([[0],{15:function(e,t,r){},16:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(9),s=r.n(c),i=(r(15),r(2)),o=r(3),l=r(5),u=r(4),h=(r(16),r(6)),p=r(0),j=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){var e=this.props,t=e.closePopup,r=e.user;return Object(p.jsx)("div",{className:"popup",children:Object(p.jsx)("div",{className:"popup_inner",onClick:t,children:JSON.stringify(r,null,"\t")})})}}]),r}(a.a.Component),d=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={shopPopup:!1},e.togglePopup=function(){e.setState({showPopup:!e.state.showPopup})},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this.props.character,t=e.name,r=e.status,n=e.species,a=e.gender,c=e.image,s=this.state.showPopup;return Object(p.jsxs)("div",{className:"character-card",onClick:this.togglePopup,children:[Object(p.jsxs)("div",{classname:"character-text",children:[Object(p.jsxs)("div",{children:["name - ",t]}),Object(p.jsxs)("div",{children:["status - ",r]}),Object(p.jsxs)("div",{children:["species - ",n]}),Object(p.jsxs)("div",{children:["gender - ",a]})]}),Object(p.jsx)("img",{src:c,alt:"character",className:"character-image"}),s&&Object(p.jsx)(j,{user:this.props.character,closePopup:this.togglePopup})]})}}]),r}(a.a.Component),b=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={test:1},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this.props.onPageChange,t=this.props.currentPage,r=this.props.totalPages;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{onClick:function(){return e(t-1)},disabled:1===t,children:"Prev"}),Object(p.jsxs)("button",{children:[t," of ",r]}),Object(p.jsx)("button",{onClick:function(){return e(t+1)},disabled:t===r,children:"Next"})]})}}]),r}(a.a.Component),f=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={selectedFilter:"",filterText:""},e.handleSelect=function(t){e.setState({selectedFilter:t.target.value})},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this,t=this.props.filters;return Object(p.jsxs)("form",{children:[Object(p.jsxs)("select",{onChange:this.handleSelect,value:this.state.selectedFilter,children:[Object(p.jsx)("option",{value:"",children:"choose a filter"}),t.map((function(e){return Object(p.jsx)("option",{value:e,children:e},e)}))]}),Object(p.jsx)("input",{type:"text",placeholder:"type text",value:this.state.filterText,onChange:function(t){return e.setState({filterText:t.target.value})}}),Object(p.jsx)("button",{type:"button",onClick:function(){return e.props.onFilterApply(e.state,!0)},children:"filter"}),Object(p.jsx)("button",{type:"button",onClick:function(){e.props.onFilterApply(e.state,!1),e.setState({selectedFilter:"",filterText:""})},children:"reset"})]})}}]),r}(a.a.Component),g=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={characters:[],currentPageApi:1,currentPage:1,totalPages:0,filter:!1,selectedFilter:"",filterText:""},e.getCharacters=function(t,r){fetch("https://rickandmortyapi.com/api/character/?page=".concat(t)).then((function(e){return e.json()})).then((function(t){return e.setState({characters:Object(h.a)(t.results),currentPageApi:t.info.next.slice(t.info.next.lastIndexOf("page=")+5)-1,totalPages:t.info.pages,currentPage:r})}))},e.changePage=function(t){var r=t%2===0?t:t+1;r/2>e.state.currentPageApi?e.getCharacters(e.state.currentPageApi+1,t):r/2<e.state.currentPageApi?e.getCharacters(e.state.currentPageApi-1,t):e.setState({currentPage:t})},e.applyFilter=function(t,r){e.setState({filter:r,selectedFilter:t.selectedFilter,filterText:t.filterText})},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.getCharacters(1,1)}},{key:"render",value:function(){var e=this.state,t=e.currentPage,r=e.characters,n=e.selectedFilter,a=e.filterText,c=e.filter,s=t%2===0?r.slice(10):r.slice(0,10);return n&&a&&c&&(s=s.filter((function(e){return e[n].toLowerCase().includes(a.toLowerCase())}))),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("ul",{children:s.map((function(e){return Object(p.jsx)("li",{className:"character-list-item",children:Object(p.jsx)(d,{character:e})},e.id)}))}),Object(p.jsx)(f,{filters:["species","gender","status"],onFilterApply:this.applyFilter}),Object(p.jsx)(b,{currentPage:t,onPageChange:this.changePage,totalPages:2*this.state.totalPages})]})}}]),r}(a.a.Component),O=r(8),x=r.n(O),v=r(10),y=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={episodes:[],page:1,totalPages:1,filter:!1,selectedFilter:"",filterText:""},e.applyFilter=function(t,r){e.setState({filter:r,selectedFilter:t.selectedFilter,filterText:t.filterText})},e.changePage=function(t){e.setState({page:t})},e}return Object(o.a)(r,[{key:"getEpisodes",value:function(){var e=Object(v.a)(x.a.mark((function e(t){var r,n,a,c,s=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:[],e.next=3,fetch("https://rickandmortyapi.com/api/episode?page=".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,c=[].concat(Object(h.a)(r),Object(h.a)(a.results)),a.info.next?this.getEpisodes(t+1,c):this.setState({episodes:Object(h.a)(c),totalPages:Math.ceil(a.info.count/25)});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getEpisodes(1)}},{key:"render",value:function(){var e=this.state,t=e.page,r=e.totalPages,n=e.episodes,a=e.selectedFilter,c=e.filterText,s=e.filter,i=n.slice(25*(t-1),25*t);return a&&c&&s&&(i=i.filter((function(e){return e[a].toLowerCase().includes(c.toLowerCase())}))),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{children:["name","air_date","episode"].map((function(e){return Object(p.jsx)("th",{children:e},e)}))})}),Object(p.jsx)("tbody",{children:i.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:e.air_date}),Object(p.jsx)("td",{children:e.episode})]},e.id)}))})]}),Object(p.jsx)(f,{filters:["name"],onFilterApply:this.applyFilter}),Object(p.jsx)(b,{currentPage:t,onPageChange:this.changePage,totalPages:r})]})}}]),r}(a.a.Component),m=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={selectedTab:"Characters"},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this,t=this.state.selectedTab;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{onClick:function(){return e.setState({selectedTab:"Characters"})},children:"Characters"}),Object(p.jsx)("button",{onClick:function(){return e.setState({selectedTab:"Episodes"})},children:"Episodes"}),"Characters"===t?Object(p.jsx)(g,{}):Object(p.jsx)(y,{})]})}}]),r}(a.a.Component),P=m,C=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,20)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(P,{})}),document.getElementById("root")),C()}},[[19,1,2]]]);
//# sourceMappingURL=main.7324db35.chunk.js.map